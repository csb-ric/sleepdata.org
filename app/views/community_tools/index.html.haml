- @title = 'Tools'

- content_for :body_class do
  brand-background

- content_for :header do
  .header-container
    .container
      %h1.page-heading
        .pull-right
          = link_to plus_or('New Tool'), new_community_tool_path, class: 'btn btn-accent btn-shadow'
          = render 'layouts/per_page', per_page: 40, object_count: @community_tools.total_count
        = @title
        = link_to 'Go To Tools', tools_path, class: 'btn btn-xs btn-default'

.dashboard-container.box-shadow
  %table.table.table-striped.table-borderless.table-hover
    %col{ width: '1px' }
    %col
    %col
    %col
    %col{ width: '1px' }
    %thead
      %tr
        %th
        %th Name
        %th User
        %th.center Type
        %th.center
          %span.hidden-xs Actions

    %tbody
      - @community_tools.each do |community_tool|
        %tr
          %td.center= render 'layouts/draft_published', published: community_tool.published?
          %td= link_to community_tool.name, community_tool
          %td= community_tool.user.name
          %td.center
            - if community_tool.tag_program?
              %span.label.label-success Program
            - if community_tool.tag_script?
              %span.label.label-warning Script
            - if community_tool.tag_tutorial?
              %span.label.label-info Tutorial
          %td
            = render 'layouts/edit_delete_dropdown', edit_url: edit_community_tool_path(community_tool), delete_url: community_tool, delete_confirmation: "Delete #{community_tool.name}?"

  .center= paginate @community_tools, theme: 'bootstrap'
