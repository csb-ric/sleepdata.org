- @title = "Tools"

- content_for :header do
  .header-container
    .container
      %h1.page-heading
        .float-right
          = link_to plus_or("New Tool"), new_community_tool_path, class: "btn btn-primary btn-shadow"
          = render "layouts/per_page", per_page: 40, object_count: @community_tools.total_count
        = @title
        = link_to "Go To Tools", tools_path, class: "btn btn-sm btn-light"

%table.table.table-striped.table-borderless.table-hover.table-sticky
  %col{ width: "1px" }
  %col
  %col
  %col
  %col{ width: "1px" }
  %thead
    %tr
      %th
      %th Name
      %th User
      %th.text-center Type
      %th.text-center
        .d-none.d-sm-inline-block Actions

  %tbody
    - @community_tools.each do |community_tool|
      %tr
        %td.text-center= render "layouts/draft_published", published: community_tool.published?
        %td= link_to community_tool.name, community_tool
        %td= community_tool.user.username
        %td.text-center
          - if community_tool.tag_program?
            %span.badge.badge-dark Program
          - if community_tool.tag_script?
            %span.badge.badge-dark Script
          - if community_tool.tag_tutorial?
            %span.badge.badge-light Tutorial
        %td
          = render "layouts/edit_delete_dropdown", edit_url: edit_community_tool_path(community_tool), delete_url: community_tool, delete_confirmation: "Delete #{community_tool.name}?"

.center-horizontally= paginate @community_tools, theme: "bootstrap"
