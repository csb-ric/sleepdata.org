= render 'contour/layouts/per_page', per_page: 40, object_count: @users.total_count

%table.table.table-striped.fixed-font-size
  %thead
    %tr
      %th{ style: "white-space:nowrap" }
        Name
      %th{ style: "white-space:nowrap" }
        Recent Activity
      %th{ style: "white-space:nowrap" }
        Core Member
      %th{ style: "white-space:nowrap" }
        AUG Member
      - if current_user.system_admin?
        %th{ style: "white-space:nowrap" }
          System Admin

  - @users.each do |user|
    %tr{ class: "#{'banned' if current_user.system_admin? and user.banned?}" }
      %td
        = image_tag user.avatar_url(18), style: 'vertical-align:text-bottom;min-width:18px'
        = link_to user.name, user
      %td
        - if user.current_sign_in_at
          = time_ago_in_words(user.current_sign_in_at)
          ago
      %td{ style: "text-align:center" }
        = simple_check user.core_member?
      %td{ style: "text-align:center" }
        = simple_check user.aug_member?
      - if current_user.system_admin?
        %td{ style: "text-align:center" }
          = simple_check user.system_admin?

.center= paginate @users, theme: "contour"
