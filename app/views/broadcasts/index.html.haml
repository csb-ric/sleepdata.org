- @title = "Blog Posts"

- content_for :header do
  .header-container
    .container
      %h1.page-heading
        .float-right
          = link_to plus_or("New Blog Post"), new_broadcast_path, class: "btn btn-primary btn-shadow"
          = render "layouts/per_page", per_page: 40, object_count: @broadcasts.total_count
        = @title
        = link_to "Go To Blog", blog_path, class: "btn btn-sm btn-light"

%table.table.table-striped.table-borderless.table-hover.table-sticky
  %col{ width: "1px" }
  %col
  %col.d-none.d-sm-table-column
  %col.d-none.d-md-table-column
  %col.d-none.d-md-table-column
  %col{ width: "1px" }

  %thead
    %tr
      %th
      %th Title
      %th.d-none.d-sm-table-cell Publish date
      %th.center.d-none.d-md-table-cell Pinned
      %th.center.d-none.d-md-table-cell Archived
      %th.center
        .d-none.d-sm-inline-block Actions

  %tbody
    - @broadcasts.each do |broadcast|
      %tr
        %td.center= render "layouts/draft_published", published: broadcast.published?
        %td= link_to broadcast.title, broadcast
        %td.nowrap.d-none.d-sm-table-cell= broadcast.publish_date.strftime "%a %b %-d, %Y"
        %td.center.d-none.d-md-table-cell= simple_check broadcast.pinned
        %td.center.d-none.d-md-table-cell= simple_check broadcast.archived
        %td= render "layouts/edit_delete_dropdown", edit_url: edit_broadcast_path(broadcast), delete_url: broadcast, delete_confirmation: "Delete #{broadcast.title}?"

.center-horizontally= paginate @broadcasts, theme: "bootstrap"
