%ul.navbar-nav.mr-auto
  = render "menu/item", title: "Datasets", path: datasets_path, icon: "database"
  = render "menu/item", title: "Tools", path: tools_path, icon: "cubes"
  = render "menu/item", title: "Forum", path: topics_path, icon: "comments-o"
  = render "menu/item", title: "Blog", path: blog_path, icon: "rss"

.full-search-bar
  = form_tag search_path, method: :get, id: "navigation-search-form", class: "form-inline d-none d-md-flex" do
    .input-group
      = text_field_tag :search, params[:search], class: "form-control", placeholder: "Search the NSRR", autocomplete: "off", id: "navigation-search"
      %span.input-group-btn
        = link_to "#", data: { object: "suppress-click" }, class: "btn btn-outline-primary", name: nil, id: "navigation-form-search-btn" do
          %i.fa.fa-search

%ul.navbar-nav.tiny-search-icon
  %li.nav-item.navbar-hide-scrolled.d-none.d-md-flex{ class: current_page?(search_path) ? "active" : nil }
    = link_to "#", data: { object: "show-search-bar" }, name: nil, class: "nav-link" do
      %i.fa.fa-search
      Search

%ul.navbar-nav
  - if current_user
    %li.nav-item.d-none.d-lg-block{ class: current_page?(notifications_path) ? "active" : nil }
      = link_to notifications_path, class: "nav-link notifications-link #{'notifications-link-active' if current_user.unread_notifications?}" do
        = content_tag :i, nil, class: "fa fa-#{icon} d-inline d-lg-none" if defined?(icon)
        %i.fa.fa-bell
      - if current_page?(notifications_path)
        %span.sr-only (current)
    = render "menu/dropdown_account"
  - else
    %li.nav-item{ class: current_page?(new_user_session_path) ? "active" : nil }
      = link_to new_user_session_path, class: "nav-link" do
        %i.fa.fa-lock
        Sign in
      - if current_page?(new_user_session_path)
        %span.sr-only (current)
